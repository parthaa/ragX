{"version":3,"sources":["static/images/piano.jpeg","Selector.js","RagaCalculator.js","RagaRenderer.js","Dashboard.js","index.js"],"names":["module","exports","__webpack_require__","p","Selector","props","items","map","item","index","react_default","a","createElement","key","value","name","title","onChange","evt","target","onSelection","SWARAS","SHRUTIS","GENRES","RagaCalculator","_this","this","state","arguments","length","undefined","Object","classCallCheck","rotateRight","concat","slice","rotateLeft","findRaga","fetchRagas","find","translateToSwaras","raga_code","swara_code","raga_swaras","split","forEach","push","join","calculate","transposes","computeTransposes","unknownRagas","knownRagas","unknown","raga","shruti","swara_iterator","shruti_iterator","raga_iterator","codes","condition","new_raga_code","code","rg","genre","carnatic_ragas","hindustani_ragas","objectSpread","RagaRenderer","ragaRenderer","ragas","swaras","findTitle","shruthi","showSpan","className","Dashboard","src","piano","alt","width","height","App","possibleConstructorReturn","getPrototypeOf","call","nameize","_this2","ragaCalculator","shrutis","genres","console","log","setState","Component","render","src_App","document","getElementById"],"mappings":"4ojDAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,kMCEzBC,EAAA,SAASC,GACtB,IAAMC,EAAQD,EAAMC,MAAMC,IAAI,SAACC,EAAMC,GACnC,OAAQC,EAAAC,EAAAC,cAAA,UAAQC,IAAKJ,EAAOK,MAAOL,GAAQD,EAAKO,QAUlD,OACEL,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,cAAMP,EAAMW,MAAZ,KACAN,EAAAC,EAAAC,cAAA,UAAQK,SAAU,SAACC,GAAD,OAVL,SAACA,IACU,IAAtBA,EAAIC,OAAOL,MACbT,EAAMe,YAAY,IAElBf,EAAMe,YAAYf,EAAMC,MAAMY,EAAIC,OAAOL,QAMdG,CAASC,KAClCR,EAAAC,EAAAC,cAAA,UAAQC,KAAM,EAAGC,OAAQ,IACxBR,mCChBHe,EAAS,CAAC,KAAM,MAAO,MAAO,MAAO,MACzB,MAAO,MAAO,KAAM,OAAQ,OAC5B,MAAO,OAEnBC,EAAU,CAAC,IAAK,KAAM,IAAK,KAAM,IAAK,IAAK,KAAM,IAAK,KAAM,IAAK,KAAM,KAEvEC,EAAS,CAAC,WAAY,cAEtBC,EACJ,SAAAA,IAAwB,IAAAC,EAAAC,KAAZC,EAAYC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GAAIG,OAAAC,EAAA,EAAAD,CAAAL,KAAAF,GAAAE,KAIxBO,YAAc,SAAC3B,GAAD,MAAW,CAACA,EAAMA,EAAMuB,OAAS,IAAIK,OAAO5B,EAAM6B,MAAM,EAAG7B,EAAMuB,OAAO,KAJ9DH,KAKxBU,WAAa,SAAC9B,GAAD,OAAWA,EAAM6B,MAAM,EAAG7B,EAAMuB,QAAQK,OAAO,CAAC5B,EAAM,MAL3CoB,KAOxBW,SAAW,SAACxB,EAAKC,GAEf,OADcW,EAAKa,aACNC,KAAK,SAAA/B,GAAI,OAAIA,EAAKK,KAASC,KATlBY,KAYxBc,kBAAoB,SAACC,EAAWC,GAC9B,IAAIC,EAAc,GAOlB,GANAF,EAAUG,MAAM,IAAIC,QAAQ,SAACrC,EAAMC,GACpB,MAATD,GACFmC,EAAYG,KAAKzB,EAAOZ,MAIxBiC,EACF,KAAMC,EAAY,KAAOD,GACvBC,EAAclB,EAAKW,WAAWO,GAIlC,OAAOA,EAAYI,KAAK,MA1BFrB,KA6BxBsB,UAAY,WACV,IAAMC,EAAaxB,EAAKyB,oBAClBC,EAAe,GACfC,EAAa,GASnB,OARAH,EAAWJ,QAAQ,SAACrC,GACfA,EAAK6C,QACNF,EAAaL,KAAKtC,GAElB4C,EAAWN,KAAKtC,KAIb,CACL4C,WAAYA,EACZD,aAAcA,IA3CMzB,KA+CxBwB,kBAAoB,WAClB,IAAMT,EAAYhB,EAAKE,MAAM2B,KAAKb,UAC5Bc,EAAS9B,EAAKE,MAAM4B,OAC1B,QAAkBzB,IAAdW,QAAsCX,IAAXyB,EAC7B,MAAO,GAMT,IAHA,IAAIC,EAAiBnC,EAAOc,QACxBsB,EAAkBnC,EAAQa,QAC1BuB,EAAgBjB,EAAUG,MAAM,IAC7Ba,EAAgB,KAAOF,GAC5BE,EAAkBhC,EAAKW,WAAWqB,GAUpC,IAPA,IAAIE,EAAQ,CAAC,CACTJ,OAAQE,EAAgB,GACxBhB,UAAWA,EACXC,WAAYc,EAAe,KAG3BI,GAAY,EACTA,GAAW,CAChBH,EAAkBhC,EAAKW,WAAWqB,GAClCC,EAAgBjC,EAAKW,WAAWsB,GAChCF,EAAiB/B,EAAKQ,YAAYuB,GAElC,IAAMK,EAAgBH,EAAcX,KAAK,KACzCa,EAAaC,IAAkBpB,IAE7BkB,EAAMb,KAAK,CACTS,OAAQE,EAAgB,GACxBhB,UAAWoB,EACXnB,WAAYc,EAAe,KAqBjC,OAhBAG,EAAMd,QAAQ,SAACiB,GACb,GAAIA,EAAI,YAAkBrB,EACxBqB,EAAI,KAAWrC,EAAKE,MAAM2B,KAAKvC,SAC1B,CACL,IAAIgD,EAAKtC,EAAKY,SAAS,YAAayB,EAAI,WACpCC,EACFD,EAAI,KAAWC,EAAE,MAEjBD,EAAI,KAAW,UACfA,EAAI,SAAc,GAGpBA,EAAI,OAAarC,EAAKe,kBAAkBsB,EAAI,UAAeA,EAAI,eAI5DH,GApGejC,KAwGxBY,WAAa,WACX,MAA6B,aAArBb,EAAKE,MAAMqC,MAAwBC,EAAgBC,GAxG3DxC,KAAKC,MAALI,OAAAoC,EAAA,EAAApC,CAAA,GAAiBJ,ICUNyC,EAAA,SAAS/D,GACtB,IAAMgE,EAAehE,EAAMiE,MAAM/D,IAAI,SAACC,EAAMC,GAC1C,OACEC,EAAAC,EAAAC,cAAA,MAAIC,IAAKJ,GAAOC,EAAAC,EAAAC,cAAA,cAXJ,SAACJ,EAAMH,GACvB,OAAIA,EAAMgD,QACR,GAAAnB,OAAU1B,EAAK+C,OAAf,OAAArB,OAA2B1B,EAAK+D,QAEhC,GAAArC,OAAU1B,EAAK+C,OAAf,OAAArB,OAA2B1B,EAAK8C,MAOLkB,CAAUhE,EAAMH,GAAzB,KAvBL,SAACG,EAAMH,GACtB,OAAIG,EAAKiE,UAAYpE,EAAMkD,OAEvB7C,EAAAC,EAAAC,cAAA,oBACOF,EAAAC,EAAAC,cAAA,cAASJ,EAAKkC,YADrB,OAC6ChC,EAAAC,EAAAC,cAAA,oBAD7C,qBACmFP,EAAMiD,KADzF,OACmGjD,EAAMkD,OADzG,YAMG,GAeCmB,CAASlE,EAAMH,MAKvB,OACEK,EAAAC,EAAAC,cAAA,OAAK+D,UAAU,aACPjE,EAAAC,EAAAC,cAAA,YAAMF,EAAAC,EAAAC,cAAA,cAAMP,EAAMW,MAAZ,MACLN,EAAAC,EAAAC,cAAA,UACEyD,EAAaxC,OAAS,EAAIwC,EAAc,sCChCxCO,EAAA,SAASvE,GACtB,OACEK,EAAAC,EAAAC,cAAA,OAAK+D,UAAU,aACZjE,EAAAC,EAAAC,cAAA,0CACCF,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,OAAKiE,IAAKC,IAAOC,IAAI,eAAeC,MAAM,QAAQC,OAAO,WAE3DvE,EAAAC,EAAAC,cAACwD,EAAD,CAAcpD,MAAO,cACPuC,OAAQlD,EAAMkD,OACdD,KAAMjD,EAAMiD,KACZgB,MAAOjE,EAAM4C,WAAWG,aACtC1C,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACwD,EAAD,CAAcpD,MAAO,eACPqC,SAAS,EACTE,OAAQlD,EAAMkD,OACdD,KAAMjD,EAAMkE,OACZD,MAAOjE,EAAM4C,WAAWE,iBCfxC+B,cACJ,SAAAA,IAAc,IAAAzD,EAAA,OAAAM,OAAAC,EAAA,EAAAD,CAAAL,KAAAwD,IACZzD,EAAAM,OAAAoD,EAAA,EAAApD,CAAAL,KAAAK,OAAAqD,EAAA,EAAArD,CAAAmD,GAAAG,KAAA3D,QAQF4D,QAAU,SAAChF,GACT,OAAOA,EAAMC,IAAI,SAAAC,GACf,MAAO,CAACO,KAAMP,MAThBiB,EAAKE,MAAQ,CACX2B,KAAM,GACNU,MAAO,WACPT,OAAQ,KALE9B,wEAeL,IAAA8D,EAAA7D,KACD8D,EAAiB,IAAIhE,EAAeE,KAAKC,OACzC2C,EAAQkB,EAAelD,aACvBmD,EAAU/D,KAAK4D,QAAQhE,GACvBoE,EAAShE,KAAK4D,QAAQ/D,GAG5B,OADAoE,QAAQC,IAAIJ,EAAexC,aAEzBtC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACR,EAAD,CAAUY,MAAM,yBACNV,MAAOmF,EACPrE,YAAa,SAACL,GAAD,OAAUwE,EAAKM,SAAS,CAACtC,OAAQxC,EAAKA,UAE7DL,EAAAC,EAAAC,cAACR,EAAD,CAAUY,MAAM,mBACNV,MAAOoF,EACPtE,YAAa,SAACL,GAAD,OAAUwE,EAAKM,SAAS,CAAC7B,MAAOjD,EAAKA,UAE5DL,EAAAC,EAAAC,cAACR,EAAD,CAAUY,MAAM,kBACNV,MAAOgE,EACPlD,YAAa,SAACL,GAAD,OAAUwE,EAAKM,SAAS,CAACvC,KAAKvC,OAErDL,EAAAC,EAAAC,cAACgE,EAAD,CAAW3B,WAAYuC,EAAexC,YAC1BO,OAAQ7B,KAAKC,MAAM4B,OACnBD,KAAQ5B,KAAKC,MAAM2B,KAAKvC,KACxBwD,OAAU7C,KAAKC,MAAM2B,KAAKiB,iBAxC5BuB,aA+ClBC,iBAAOrF,EAAAC,EAAAC,cAACoF,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.3f204e81.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/piano.328460f5.jpeg\";","import React from \"react\";\n\nexport default function(props) {\n  const items = props.items.map((item, index) => {\n    return (<option key={index} value={index}>{item.name}</option>)\n  });\n\n  const onChange = (evt) => {\n    if (evt.target.value === -1) {\n      props.onSelection({})\n    } else {\n      props.onSelection(props.items[evt.target.value])\n    }\n  }\n  return (\n    <div>\n      <h2> {props.title} </h2>\n      <select onChange={(evt) => onChange(evt)} >\n        <option key={-1} value={-1}></option>\n        {items}\n      </select>\n    </div>\n  );\n}","import carnatic_ragas from './data/ragas.json';\nimport hindustani_ragas from './data/hindustani_ragas.json';\n\nconst SWARAS = [\"Sa\", \"Ri1\", \"Ri2\", \"Ga1\", \"Ga2\",\n                  \"Ma1\", \"Ma2\", \"Pa\", \"Dha1\", \"Dha2\",\n                  \"Ni1\", \"Ni2\"]\n\nconst SHRUTIS = [\"C\", \"C#\", \"D\", \"D#\", \"E\", \"F\", \"F#\", \"G\", \"G#\", \"A\", \"A#\", \"B\"];\n\nconst GENRES = [\"Carnatic\", \"Hindustani\"];\n\nclass RagaCalculator {\n  constructor(state = {}) {\n    this.state = {...state};\n  }\n\n  rotateRight = (items) => [items[items.length - 1]].concat(items.slice(0, items.length-1))\n  rotateLeft = (items) => items.slice(1, items.length).concat([items[0]])\n\n  findRaga = (key, value) => {\n    const ragas = this.fetchRagas();\n    return ragas.find(item => item[key] === value)\n  }\n\n  translateToSwaras = (raga_code, swara_code) => {\n    let raga_swaras = [];\n    raga_code.split('').forEach((item, index) => {\n      if (item === \"1\") {\n        raga_swaras.push(SWARAS[index])\n      }\n    });\n\n    if (swara_code) {\n      while(raga_swaras[0] !== swara_code) {\n        raga_swaras = this.rotateLeft(raga_swaras);\n      }\n    }\n\n    return raga_swaras.join(\" \")\n  }\n\n  calculate = () => {\n    const transposes = this.computeTransposes();\n    const unknownRagas = [];\n    const knownRagas = [];\n    transposes.forEach((item) => {\n      if(item.unknown) {\n        unknownRagas.push(item);\n      } else {\n        knownRagas.push(item);\n      }\n    });\n\n    return {\n      knownRagas: knownRagas,\n      unknownRagas: unknownRagas\n    }\n  }\n\n  computeTransposes = () => {\n    const raga_code = this.state.raga.raga_code\n    const shruti = this.state.shruti;\n    if (raga_code === undefined || shruti === undefined) {\n      return []\n    }\n\n    let swara_iterator = SWARAS.slice();\n    let shruti_iterator = SHRUTIS.slice();\n    let raga_iterator = raga_code.split(\"\")\n    while (shruti_iterator[0] !== shruti) {\n      shruti_iterator = this.rotateLeft(shruti_iterator)\n    }\n\n    let codes = [{\n        shruti: shruti_iterator[0],\n        raga_code: raga_code,\n        swara_code: swara_iterator[0]\n    }]\n\n    let condition = true\n    while (condition) {\n      shruti_iterator = this.rotateLeft(shruti_iterator)\n      raga_iterator = this.rotateLeft(raga_iterator)\n      swara_iterator = this.rotateRight(swara_iterator)\n\n      const new_raga_code = raga_iterator.join(\"\")\n      condition = (new_raga_code !== raga_code)\n      if (condition) {\n        codes.push({\n          shruti: shruti_iterator[0],\n          raga_code: new_raga_code,\n          swara_code: swara_iterator[0]\n        });\n      }\n    }\n\n    codes.forEach((code) => {\n      if (code[\"raga_code\"] === raga_code) {\n        code[\"raga\"] = this.state.raga.name;\n      } else {\n        let rg = this.findRaga(\"raga_code\", code[\"raga_code\"])\n        if (rg) {\n          code[\"raga\"] = rg[\"name\"]\n        } else {\n          code[\"raga\"] = \"Unknown\"\n          code[\"unknown\"] = true\n        }\n\n        code[\"swaras\"] = this.translateToSwaras(code[\"raga_code\"], code[\"swara_code\"])\n      }\n\n    });\n    return codes;\n  }\n\n\n  fetchRagas = () => {\n    return (this.state.genre === 'Carnatic') ? carnatic_ragas: hindustani_ragas;\n  }\n}\n\n\nexport {\n  RagaCalculator,\n  SWARAS,\n  SHRUTIS,\n  GENRES\n}","import React from \"react\";\n\n\nconst showSpan = (item, props) => {\n  if (item.shruthi !== props.shruti) {\n    return(\n      <span>\n        (Use <strong>{item.swara_code}</strong> as <strong>Sa</strong> to transition to {props.raga} in {props.shruti} Shruti)\n      </span>\n    );\n  }\n\n  return \"\";\n}\n\nconst findTitle = (item, props) => {\n  if (props.unknown) {\n    return `${item.shruti} - ${item.swaras}`\n  } else {\n    return `${item.shruti} - ${item.raga}`    \n  }\n}\n\nexport default function(props) {\n  const ragaRenderer = props.ragas.map((item, index) => {\n    return (\n      <li key={index}><strong>{findTitle(item, props)} </strong>\n        { showSpan(item, props)}\n      </li>\n    )\n  });\n\n  return (\n    <div className=\"notations\">\n            <span><h3> {props.title} </h3></span>\n             <ol>\n              {ragaRenderer.length > 0 ? ragaRenderer: \"No results found\"}\n            </ol>\n    </div>\n  );\n}","import React from \"react\";\n\nimport RagaRenderer from './RagaRenderer';\nimport piano from './static/images/piano.jpeg';\nexport default function(props) {\n  return (\n    <div className=\"notations\">\n       <h2> Derived Transpose Patterns </h2>\n        <span>\n          <h3> Legend </h3>\n          <img src={piano} alt=\"Piano Legend\" width=\"300px\" height=\"100px\"/>\n        </span>\n        <RagaRenderer title={\"Known Ragas\"} \n                      shruti={props.shruti} \n                      raga={props.raga} \n                      ragas={props.transposes.knownRagas}/>\n        <hr/>\n        <RagaRenderer title={\"Unnown Ragas\"} \n                      unknown={true} \n                      shruti={props.shruti} \n                      raga={props.swaras} \n                      ragas={props.transposes.unknownRagas}/>\n    </div>\n  );\n}","import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport Selector from './Selector'\nimport './style.css';\nimport {GENRES, SHRUTIS, RagaCalculator} from './RagaCalculator';\nimport Dashboard from './Dashboard';\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      raga: '',\n      genre: 'Carnatic',\n      shruti: 'C'\n    };\n  }\n\n  nameize = (items) => {\n    return items.map(item => {\n      return {name: item}\n    });\n  }\n\n  render() {\n    const ragaCalculator = new RagaCalculator(this.state)\n    const ragas = ragaCalculator.fetchRagas();\n    const shrutis = this.nameize(SHRUTIS)\n    const genres = this.nameize(GENRES)\n\n    console.log(ragaCalculator.calculate());\n    return (\n      <div>\n        <Selector title=\"Select the Base Shruti\"\n                  items={shrutis}\n                  onSelection={(name) => this.setState({shruti: name.name})} />\n\n        <Selector title=\"Select the Genre\"\n                  items={genres}\n                  onSelection={(name) => this.setState({genre: name.name})} />\n\n        <Selector title=\"Select the Raga\"\n                  items={ragas}\n                  onSelection={(name) => this.setState({raga:name})} />\n\n        <Dashboard transposes={ragaCalculator.calculate()}\n                    shruti={this.state.shruti} \n                    raga = {this.state.raga.name} \n                    swaras = {this.state.raga.swaras}/>\n\n      </div>\n    );\n  }\n}\n\nrender(<App />, document.getElementById('root'));\n"],"sourceRoot":""}