{"version":3,"sources":["static/images/piano.jpeg","components/Selector.js","components/RagaRenderer.js","components/Dashboard.js","utils/RagaCalculator.js","index.js"],"names":["module","exports","__webpack_require__","p","Selector","props","items","map","item","index","react_default","a","createElement","key","value","name","title","onChange","evt","target","onSelection","RagaRenderer","ragaRenderer","ragas","unknown","concat","shruti","swaras","raga","findTitle","shruthi","swara_code","showSpan","className","length","Dashboard","src","piano","alt","width","height","transposes","knownRagas","unknownRagas","carnatic_ragas","sort","b","localeCompare","hindustani_ragas","SWARAS","SHRUTIS","GENRES","RagaCalculator","_this","this","state","arguments","undefined","Object","classCallCheck","_rotateRight","slice","_rotateLeft","_findRaga","fetchRagas","find","_translateToSwaras","raga_code","raga_swaras","split","forEach","push","join","calculate","_computeTransposes","swara_iterator","shruti_iterator","raga_iterator","codes","condition","current_raga_code","code","rg","genre","objectSpread","App","possibleConstructorReturn","getPrototypeOf","call","nameize","_this2","ragaCalculator","shrutis","genres","setState","Component","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.979f4cd6.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/piano.328460f5.jpeg\";","import React from \"react\";\n\nexport default function(props) {\n  const items = props.items.map((item, index) => {\n    return (<option key={index} value={index}>{item.name}</option>)\n  });\n\n  const onChange = (evt) => {\n    if (evt.target.value === -1) {\n      props.onSelection({})\n    } else {\n      props.onSelection(props.items[evt.target.value])\n    }\n  }\n  return (\n    <div>\n      <h2> {props.title} </h2>\n      <select onChange={(evt) => onChange(evt)} >\n        <option key={-1} value={-1}></option>\n        {items}\n      </select>\n    </div>\n  );\n}","import React from \"react\";\n\n\nconst showSpan = (item, props) => {\n  if (item.shruthi !== props.shruti) {\n    return(\n      <span>\n        (Use <strong>{item.swara_code}</strong> as <strong>Sa</strong> to transition to {props.raga} in {props.shruti} Shruti)\n      </span>\n    );\n  }\n\n  return \"\";\n}\n\nconst findTitle = (item, props) => {\n  if (props.unknown) {\n    return `${item.shruti} - ${item.swaras}`\n  } else {\n    return `${item.shruti} - ${item.raga}`    \n  }\n}\n\nexport default function(props) {\n  const ragaRenderer = props.ragas.map((item, index) => {\n    return (\n      <li key={index}><strong>{findTitle(item, props)} </strong>\n        { showSpan(item, props)}\n      </li>\n    )\n  });\n\n  return (\n    <div className=\"notations\">\n            <span><h3> {props.title} </h3></span>\n             <ol>\n              {ragaRenderer.length > 0 ? ragaRenderer: \"No results found\"}\n            </ol>\n    </div>\n  );\n}","import React from \"react\";\n\nimport RagaRenderer from './RagaRenderer';\nimport piano from '../static/images/piano.jpeg';\nexport default function(props) {\n  return (\n    <div className=\"notations\">\n       <h2> Derived Transpose Patterns </h2>\n        <span>\n          <h3> Legend </h3>\n          <img src={piano} alt=\"Piano Legend\" width=\"300px\" height=\"100px\"/>\n        </span>\n        <RagaRenderer title={\"Known Ragas\"}\n                      shruti={props.shruti}\n                      raga={props.raga}\n                      ragas={props.transposes.knownRagas}/>\n        <hr/>\n        <RagaRenderer title={\"Unnown Ragas\"}\n                      unknown={true}\n                      shruti={props.shruti}\n                      raga={props.swaras}\n                      ragas={props.transposes.unknownRagas}/>\n    </div>\n  );\n}","import carnatic_ragas from '../data/ragas.json';\nimport hindustani_ragas from '../data/hindustani_ragas.json';\n\ncarnatic_ragas.sort((a,b) => a.name.localeCompare(b.name))\nhindustani_ragas.sort((a,b) => a.name.localeCompare(b.name))\n\nconst SWARAS = [\"Sa\", \"Ri1\", \"Ri2\", \"Ga1\", \"Ga2\",\n                  \"Ma1\", \"Ma2\", \"Pa\", \"Dha1\", \"Dha2\",\n                  \"Ni1\", \"Ni2\"]\n\nconst SHRUTIS = [\"C\", \"C#\", \"D\", \"D#\", \"E\", \"F\", \"F#\", \"G\", \"G#\", \"A\", \"A#\", \"B\"];\n\nconst GENRES = [\"Carnatic\", \"Hindustani\"];\n\nclass RagaCalculator {\n  constructor(state = {}) {\n    this.state = {...state};\n  }\n\n  _rotateRight = (items) => [items[items.length - 1]].concat(items.slice(0, items.length-1))\n  _rotateLeft = (items) => items.slice(1, items.length).concat([items[0]])\n\n  _findRaga = (key, value) => {\n    const ragas = this.fetchRagas();\n    return ragas.find(item => item[key] === value)\n  }\n\n  _translateToSwaras = (raga_code, swara_code) => {\n    let raga_swaras = [];\n    raga_code.split('').forEach((item, index) => {\n      if (item === \"1\") {\n        raga_swaras.push(SWARAS[index])\n      }\n    });\n\n    if (swara_code) {\n      while(raga_swaras[0] !== swara_code) {\n        raga_swaras = this._rotateLeft(raga_swaras);\n      }\n    }\n\n    return raga_swaras.join(\" \")\n  }\n\n  calculate = () => {\n    const transposes = this._computeTransposes();\n    const unknownRagas = [];\n    const knownRagas = [];\n    transposes.forEach((item) => {\n      if(item.unknown) {\n        unknownRagas.push(item);\n      } else {\n        knownRagas.push(item);\n      }\n    });\n\n    return {\n      knownRagas: knownRagas,\n      unknownRagas: unknownRagas\n    }\n  }\n\n  _computeTransposes = () => {\n    const raga_code = this.state.raga.raga_code\n    const shruti = this.state.shruti;\n    if (raga_code === undefined || shruti === undefined) {\n      return []\n    }\n\n    let swara_iterator = SWARAS.slice();\n    let shruti_iterator = SHRUTIS.slice();\n    let raga_iterator = raga_code.split(\"\")\n    while (shruti_iterator[0] !== shruti) {\n      shruti_iterator = this._rotateLeft(shruti_iterator)\n    }\n\n    let codes = []\n\n    let condition = true\n    let current_raga_code = raga_code\n\n    while (condition) {\n      codes.push({\n          shruti: shruti_iterator[0],\n          raga_code: current_raga_code,\n          swara_code: swara_iterator[0]\n       });\n\n      shruti_iterator = this._rotateLeft(shruti_iterator)\n      raga_iterator = this._rotateLeft(raga_iterator)\n      swara_iterator = this._rotateRight(swara_iterator)\n\n      current_raga_code = raga_iterator.join(\"\")\n      condition = (current_raga_code !== raga_code)\n    }\n\n    codes.forEach((code) => {\n      if (code[\"raga_code\"] === raga_code) {\n        code[\"raga\"] = this.state.raga.name;\n      } else {\n        let rg = this._findRaga(\"raga_code\", code[\"raga_code\"])\n        if (rg) {\n          code[\"raga\"] = rg[\"name\"]\n        } else {\n          code[\"raga\"] = \"Unknown\"\n          code[\"unknown\"] = true\n        }\n\n        code[\"swaras\"] = this._translateToSwaras(code[\"raga_code\"], code[\"swara_code\"])\n      }\n\n    });\n    return codes;\n  }\n\n\n  fetchRagas = () => {\n    return (this.state.genre === 'Carnatic') ? carnatic_ragas: hindustani_ragas;\n  }\n}\n\nexport {\n  RagaCalculator,\n  SWARAS,\n  SHRUTIS,\n  GENRES\n}","import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport Selector from './components/Selector'\nimport Dashboard from './components/Dashboard';\n\nimport {GENRES, SHRUTIS, RagaCalculator} from './utils/RagaCalculator';\nimport './style.css';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      raga: '',\n      genre: 'Carnatic',\n      shruti: 'C'\n    };\n  }\n\n  nameize = (items) => {\n    return items.map(item => {\n      return {name: item}\n    });\n  }\n\n  render() {\n    const ragaCalculator = new RagaCalculator(this.state)\n    const ragas = ragaCalculator.fetchRagas();\n    const shrutis = this.nameize(SHRUTIS)\n    const genres = this.nameize(GENRES)\n\n    return (\n      <div>\n        <Selector title=\"Select the Base Shruti\"\n                  items={shrutis}\n                  onSelection={(name) => this.setState({shruti: name.name})} />\n\n        <Selector title=\"Select the Genre\"\n                  items={genres}\n                  onSelection={(name) => this.setState({genre: name.name})} />\n\n        <Selector title=\"Select the Raga\"\n                  items={ragas}\n                  onSelection={(name) => this.setState({raga:name})} />\n\n        <Dashboard transposes={ragaCalculator.calculate()}\n                    shruti={this.state.shruti}\n                    raga = {this.state.raga.name}\n                    swaras = {this.state.raga.swaras}/>\n\n      </div>\n    );\n  }\n}\n\nrender(<App />, document.getElementById('root'));\n"],"sourceRoot":""}