{"version":3,"sources":["static/images/piano.jpeg","components/Selector.js","components/RagaRenderer.js","components/Dashboard.js","utils/RagaCalculator.js","index.js"],"names":["module","exports","props","items","map","item","index","key","value","name","title","onChange","evt","target","onSelection","ragaRenderer","ragas","unknown","shruti","swaras","raga","findTitle","shruthi","swara_code","showSpan","className","length","src","piano","alt","width","height","RagaRenderer","transposes","knownRagas","unknownRagas","carnatic_ragas","sort","a","b","localeCompare","hindustani_ragas","SWARAS","SHRUTIS","GENRES","RagaCalculator","state","_rotateRight","concat","slice","_rotateLeft","_findRaga","fetchRagas","find","_translateToSwaras","raga_code","raga_swaras","split","forEach","push","join","calculate","_computeTransposes","undefined","swara_iterator","shruti_iterator","raga_iterator","codes","condition","current_raga_code","code","rg","genre","this","App","nameize","ragaCalculator","shrutis","genres","Selector","setState","Dashboard","Component","render","document","getElementById"],"mappings":"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","file":"static/js/main.75bc6222.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/piano.328460f5.jpeg\";","import React from \"react\";\n\nexport default function(props) {\n  const items = props.items.map((item, index) => {\n    return (<option key={index} value={index}>{item.name}</option>)\n  });\n\n  const onChange = (evt) => {\n    if (evt.target.value === -1) {\n      props.onSelection({})\n    } else {\n      props.onSelection(props.items[evt.target.value])\n    }\n  }\n  return (\n    <div>\n      <h2> {props.title} </h2>\n      <select onChange={(evt) => onChange(evt)} >\n        <option key={-1} value={-1}></option>\n        {items}\n      </select>\n    </div>\n  );\n}","import React from \"react\";\n\n\nconst showSpan = (item, props) => {\n  if (item.shruthi !== props.shruti) {\n    return(\n      <span>\n        (Use <strong>{item.swara_code}</strong> as <strong>Sa</strong> to transition to {props.raga} in {props.shruti} Shruti)\n      </span>\n    );\n  }\n\n  return \"\";\n}\n\nconst findTitle = (item, props) => {\n  if (props.unknown) {\n    return `${item.shruti} - ${item.swaras}`\n  } else {\n    return `${item.shruti} - ${item.raga}`    \n  }\n}\n\nexport default function(props) {\n  const ragaRenderer = props.ragas.map((item, index) => {\n    return (\n      <li key={index}><strong>{findTitle(item, props)} </strong>\n        { showSpan(item, props)}\n      </li>\n    )\n  });\n\n  return (\n    <div className=\"notations\">\n            <span><h3> {props.title} </h3></span>\n             <ol>\n              {ragaRenderer.length > 0 ? ragaRenderer: \"No results found\"}\n            </ol>\n    </div>\n  );\n}","import React from \"react\";\n\nimport RagaRenderer from './RagaRenderer';\nimport piano from '../static/images/piano.jpeg';\nexport default function(props) {\n  return (\n    <div className=\"notations\">\n       <h2> Derived Transpose Patterns </h2>\n        <span>\n          <h3> Legend </h3>\n          <img src={piano} alt=\"Piano Legend\" width=\"300px\" height=\"100px\"/>\n        </span>\n        <RagaRenderer title={\"Known Ragas\"}\n                      shruti={props.shruti}\n                      raga={props.raga}\n                      ragas={props.transposes.knownRagas}/>\n        <hr/>\n        <RagaRenderer title={\"Unnown Ragas\"}\n                      unknown={true}\n                      shruti={props.shruti}\n                      raga={props.swaras}\n                      ragas={props.transposes.unknownRagas}/>\n    </div>\n  );\n}","import carnatic_ragas from '../data/ragas.json';\nimport hindustani_ragas from '../data/hindustani_ragas.json';\n\ncarnatic_ragas.sort((a,b) => a.name.localeCompare(b.name))\nhindustani_ragas.sort((a,b) => a.name.localeCompare(b.name))\n\nconst SWARAS = [\"Sa\", \"Ri1\", \"Ri2\", \"Ga1\", \"Ga2\",\n                  \"Ma1\", \"Ma2\", \"Pa\", \"Dha1\", \"Dha2\",\n                  \"Ni1\", \"Ni2\"]\n\nconst SHRUTIS = [\"C\", \"C#\", \"D\", \"D#\", \"E\", \"F\", \"F#\", \"G\", \"G#\", \"A\", \"A#\", \"B\"];\n\nconst GENRES = [\"Carnatic\", \"Hindustani\"];\n\nclass RagaCalculator {\n  constructor(state = {}) {\n    this.state = {...state};\n  }\n\n  _rotateRight = (items) => [items[items.length - 1]].concat(items.slice(0, items.length-1))\n  _rotateLeft = (items) => items.slice(1, items.length).concat([items[0]])\n\n  _findRaga = (key, value) => {\n    const ragas = this.fetchRagas();\n    return ragas.find(item => item[key] === value)\n  }\n\n  _translateToSwaras = (raga_code, swara_code) => {\n    let raga_swaras = [];\n    raga_code.split('').forEach((item, index) => {\n      if (item === \"1\") {\n        raga_swaras.push(SWARAS[index])\n      }\n    });\n\n    if (swara_code) {\n      while(raga_swaras[0] !== swara_code) {\n        raga_swaras = this._rotateLeft(raga_swaras);\n      }\n    }\n\n    return raga_swaras.join(\" \")\n  }\n\n  calculate = () => {\n    const transposes = this._computeTransposes();\n    const unknownRagas = [];\n    const knownRagas = [];\n    transposes.forEach((item) => {\n      if(item.unknown) {\n        unknownRagas.push(item);\n      } else {\n        knownRagas.push(item);\n      }\n    });\n\n    return {\n      knownRagas: knownRagas,\n      unknownRagas: unknownRagas\n    }\n  }\n\n  _computeTransposes = () => {\n    const raga_code = this.state.raga.raga_code\n    const shruti = this.state.shruti;\n    if (raga_code === undefined || shruti === undefined) {\n      return []\n    }\n\n    let swara_iterator = SWARAS.slice();\n    let shruti_iterator = SHRUTIS.slice();\n    let raga_iterator = raga_code.split(\"\")\n    while (shruti_iterator[0] !== shruti) {\n      shruti_iterator = this._rotateLeft(shruti_iterator)\n    }\n\n    let codes = []\n\n    let condition = true\n    let current_raga_code = raga_code\n\n    while (condition) {\n      codes.push({\n          shruti: shruti_iterator[0],\n          raga_code: current_raga_code,\n          swara_code: swara_iterator[0]\n       });\n\n      shruti_iterator = this._rotateLeft(shruti_iterator)\n      raga_iterator = this._rotateLeft(raga_iterator)\n      swara_iterator = this._rotateRight(swara_iterator)\n\n      current_raga_code = raga_iterator.join(\"\")\n      condition = (current_raga_code !== raga_code)\n    }\n\n    codes.forEach((code) => {\n      if (code[\"raga_code\"] === raga_code) {\n        code[\"raga\"] = this.state.raga.name;\n      } else {\n        let rg = this._findRaga(\"raga_code\", code[\"raga_code\"])\n        if (rg) {\n          code[\"raga\"] = rg[\"name\"]\n        } else {\n          code[\"raga\"] = \"Unknown\"\n          code[\"unknown\"] = true\n        }\n\n        code[\"swaras\"] = this._translateToSwaras(code[\"raga_code\"], code[\"swara_code\"])\n      }\n\n    });\n    return codes;\n  }\n\n\n  fetchRagas = () => {\n    return (this.state.genre === 'Carnatic') ? carnatic_ragas: hindustani_ragas;\n  }\n}\n\nexport {\n  RagaCalculator,\n  SWARAS,\n  SHRUTIS,\n  GENRES\n}","import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport Selector from './components/Selector'\nimport Dashboard from './components/Dashboard';\n\nimport {GENRES, SHRUTIS, RagaCalculator} from './utils/RagaCalculator';\nimport './style.css';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      raga: '',\n      genre: 'Carnatic',\n      shruti: 'C'\n    };\n  }\n\n  nameize = (items) => {\n    return items.map(item => {\n      return {name: item}\n    });\n  }\n\n  render() {\n    const ragaCalculator = new RagaCalculator(this.state)\n    const ragas = ragaCalculator.fetchRagas();\n    const shrutis = this.nameize(SHRUTIS)\n    const genres = this.nameize(GENRES)\n\n    return (\n      <div>\n        <Selector title=\"Select the Base Shruti\"\n                  items={shrutis}\n                  onSelection={(name) => this.setState({shruti: name.name})} />\n\n        <Selector title=\"Select the Genre\"\n                  items={genres}\n                  onSelection={(name) => this.setState({genre: name.name})} />\n\n        <Selector title=\"Select the Raga\"\n                  items={ragas}\n                  onSelection={(name) => this.setState({raga:name})} />\n\n        <Dashboard transposes={ragaCalculator.calculate()}\n                    shruti={this.state.shruti}\n                    raga = {this.state.raga.name}\n                    swaras = {this.state.raga.swaras}/>\n\n      </div>\n    );\n  }\n}\n\nrender(<App />, document.getElementById('root'));\n"],"sourceRoot":""}